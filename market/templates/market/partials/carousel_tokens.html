{# templates/market/partials/carousel_tokens.html #}

<div class="lhx-drag-carousel" style="--lhx-per: {{ per_slide|default:3 }};">
  <div
    class="lhx-drag-track"
    data-drag-scroll
    data-per-slide="{{ per_slide|default:3 }}"
    data-interval-ms="2000"
  >
    {% for t in tokens %}
      <div class="lhx-drag-item">
        <div class="lhx-card h-100 p-3">
          <div class="d-flex justify-content-between align-items-start">
            <div>
              <div class="lhx-title">{{ t.base_symbol|default:"UNK" }}</div>
              <div class="lhx-mono small text-secondary">
                {{ t.token_address|slice:":6" }}...{{ t.token_address|slice:"-6:" }}
              </div>
            </div>
            <span class="lhx-badge">Major</span>
          </div>

          <div class="mt-3 lhx-metrics">
            <div><span class="lhx-muted">MCAP</span> <span class="ms-2">${{ t.market_cap|floatformat:0 }}</span></div>
            <div><span class="lhx-muted">LP</span> <span class="ms-2">${{ t.liquidity_usd|floatformat:0 }}</span></div>
            <div><span class="lhx-muted">Vol(24h)</span> <span class="ms-2">${{ t.volume_24h|floatformat:0 }}</span></div>
          </div>

          <div class="mt-3 d-flex gap-2">
            {% if t.url %}
              <a class="lhx-btn-sm" href="{{ t.url }}" target="_blank" rel="noopener">Open DEX</a>
            {% endif %}
          </div>
        </div>
      </div>
    {% endfor %}
  </div>
</div>
